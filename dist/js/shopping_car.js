"use strict";!function(d){var i=function(i){var t=decodeURIComponent(document.cookie).split("; "),o=!0,n=!1,e=void 0;try{for(var c,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var r=c.value.split("=");if(i===r[0])return r[1]}}catch(i){n=!0,e=i}finally{try{!o&&d.return&&d.return()}finally{if(n)throw e}}};if(i("cookiesid")&&i("cookienum")){var o=i("cookiesid").split(","),n=i("cookienum").split(",");d.each(o,function(i,t){!function(e,c){d.ajax({url:"http://localhost/jquery_taobaocart/php/taobaodata.php",dataType:"json"}).done(function(i){d.each(i,function(i,t){if(t.sid==e){var o=d(".goods-item:hidden").clone(!0,!0);o.find(".goods-pic img").attr("src",t.url),o.find(".goods-d-info a").html(t.titile),o.find(".b-price strong").html(t.price),o.find(".quantity-form input").val(c);var n=(t.price*c).toFixed(2);o.find(".b-sum strong").html(n),o.css("display","block"),d(".item-list").append(o)}}),r()})}(o[i],n[i])})}function r(){var o=0,n=0;d(".goods-item:visible").each(function(i,t){d(t).find(".goods-info").find(".cart-checkbox").find("input").is(":checked")&&(console.log(d(t).find(".b-sum strong").html()),o+=parseInt(d(t).find(".b-sum strong").html()),n+=parseInt(d(t).find(".quantity-form input").val()))}),d(".totalprice").html("ï¿¥"+o),d(".amount-sum em").html(n)}i("cookiesid")&&i("cookienum")?d(".empty-cart").hide():d(".empty-cart").show(),d(".allsel").on("click",function(){d(".goods-item:visible").find(".cart-checkbox").find("input").prop("checked",d(this).prop("checked")),r()}),d(".item-list").on("click","input:checkbox",function(){d(".goods-item:visible").find(".cart-checkbox").find("input").length==d(".goods-item:visible").find(".cart-checkbox").find("input:checked").length?d(".allsel").prop("checked",!0):d(".allsel").prop("checked",!1),r()})}(jQuery);